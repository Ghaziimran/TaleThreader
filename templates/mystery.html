<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>

    <title>{% block title %}Mystery{% endblock %}</title>


<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
</head>

<body>

    <header class="Mysteryheader">
        <button class="btn btn custom-button1" type="button" data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">{% block subhead
            %}Mystery{% endblock %}</button>
        <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions"
            aria-labelledby="offcanvasWithBothOptionsLabel" data-bs-autohide="false">
            <div class="offcanvas-header text-bg-dark" tabindex="-1" id="myoffcanvasDarkNavbar"
                aria-labelledby="offcanvasDarkNavbarLabel">
                <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel"></h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                    aria-label="Close"></button>
            </div>
            <div class="offcanvas-body bg-dark text-white">
                <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                    <li class="nav-item">
                        <a class="nav-link active text-white" aria-current="page"
                            href="{{ url_for('index' ) }}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active text-white" aria-current="page"
                            href="{{ url_for('horror' ) }}">Horror</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active text-white" aria-current="page"
                            href="{{ url_for('fantasy' ) }}">Fantasy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active text-white" aria-current="page"
                            href="{{ url_for('romance' ) }}">Romance</a>
                    </li>
                </ul>
            </div>
        </div>
    </header>
    
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<h1 id="difficultyText" class="mysterydifficulty">Select a difficulty:</h1>

<div class="btn-group group2">
    <button class="btn btn-success" onclick="changeDifficulty('Easy')">Easy</button>
    <button class="btn btn-warning" onclick="changeDifficulty('Medium')">Medium</button>
    <button class="btn btn-danger" onclick="changeDifficulty('Hard')">Hard</button>
</div>

<button class="btn btn storybtn" id="showStoryButton" onclick="showStory()">Show Story</button>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<div class="story-container">
    <div class="storybox" id="storybox1">
        <h5 id="storyText">Click the button to see the story...</h5>
    </div>
    <div class="storybox storybox2 hidden" id="storybox2">
        <h5 id="updatedStoryText">Fill in the blanks to see the story...</h5>
    </div>
 </div>

 <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~EASY~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->


  <div id="user-input" class="user-input">
    <label for="victim">Victim's occupation: </label>
    <input type="text" id="victim">
    <br>
    <label for="hiddenItem">Hidden item: </label>
    <input type="text" id="hiddenItem">
    <br>
    <label for="victimPossession">Victim's possession: </label>
    <input type="text" id="victimPossession">
    <br>
    <label for="suspect">Suspect's occupation: </label>
    <input type="text" id="suspect">
    <br>
    <button class="btn btn-success" onclick="generateStory()">Submit</button>
  </div>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~MEDIUM~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->


    <div class="mb-3 storytextarea" id="mediumUserInput">
        <label for="StoryTextarea1" class="form-label">Chapter 2</label>
        <textarea class="form-control" id="StoryTextarea1" rows="3"></textarea>

        <div class="mb-3">
            <label for="StoryTextarea2" class="form-label">Chapter 3</label>
            <textarea class="form-control" id="StoryTextarea2" rows="3"></textarea>
        </div>
        
        <div class="mb-3">
            <label for="StoryTextarea3" class="form-label">Chapter 4</label>
            <textarea class="form-control" id="StoryTextarea3" rows="3"></textarea>
        </div>
        
        <button class="btn btn-success" onclick="submitStory()">Submit chapters</button>
        
    </div>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~HARD~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->


    <div class="mb-3 storytextarea hidden hardstory" id="hardUserInput">
        <label for="ChapterTextarea1" class="form-label">Chapter 1</label>
        <textarea class="form-control hardform" id="ChapterTextarea1" rows="3"></textarea>
    
        <label for="ChapterTextarea2" class="form-label">Chapter 2</label>
        <textarea class="form-control hardform" id="ChapterTextarea2" rows="3"></textarea>
    
        <label for="ChapterTextarea3" class="form-label">Chapter 3</label>
        <textarea class="form-control hardform" id="ChapterTextarea3" rows="3"></textarea>
    
        <label for="ChapterTextarea4" class="form-label">Chapter 4</label>
        <textarea class="form-control hardform" id="ChapterTextarea4" rows="3"></textarea>
    
        <label for="ChapterTextarea5" class="form-label">Chapter 5</label>
        <textarea class="form-control hardform" id="ChapterTextarea5" rows="3"></textarea>
    
        <button class="btn btn-success" style="margin-top: 10px;" onclick="submitChapters()">Submit Chapters</button>
    </div> 


<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<script>
var currentDifficulty = 'Easy';

function changeDifficulty(difficulty) {

    document.getElementById("StoryTextarea1").value = '';
    document.getElementById("StoryTextarea2").value = '';
    document.getElementById("StoryTextarea3").value = '';
    document.getElementById("ChapterTextarea1").value = '';
    document.getElementById("ChapterTextarea2").value = '';
    document.getElementById("ChapterTextarea3").value = '';
    document.getElementById("ChapterTextarea4").value = '';
    document.getElementById("ChapterTextarea5").value = '';

    document.getElementById('storybox2').innerHTML = '';

    currentDifficulty = difficulty;
    var storyTextElement = document.getElementById('storyText');
    var showStoryButton = document.getElementById('showStoryButton');
    var storybox1 = document.getElementById('storybox1');
    var storybox2 = document.getElementById('storybox2');
    var userInputDiv = document.getElementById('user-input');
    var mediumUserInputDiv = document.getElementById('mediumUserInput');
    var hardUserInputDiv = document.getElementById('hardUserInput'); 

    storyTextElement.textContent = 'Click "Show Story" to see the ' + currentDifficulty +
        ' story...';
    showStoryButton.style.display = 'block';
    showStoryButton.classList.remove('btn-easy', 'btn-medium', 'btn-hard');
    showStoryButton.classList.add('btn-' + currentDifficulty.toLowerCase());

    storybox1.style.marginLeft = '15px';
    storybox1.style.maxWidth = '100vw';

    storybox2.style.display = 'none';
    userInputDiv.style.display = 'none';
    mediumUserInputDiv.style.display = 'none';
    hardUserInputDiv.style.display = 'none'; 
}

    if (currentDifficulty.toLowerCase() === 'easy') {
        userInputDiv.style.display = 'block';
    } else if (currentDifficulty.toLowerCase() === 'medium') {
        mediumUserInputDiv.style.display = 'block';
    } else if (currentDifficulty.toLowerCase() === 'hard') {
        hardUserInputDiv.style.display = 'block';
    }


    function showStory() {
    var storyTextElement = document.getElementById('storyText');
    var showStoryButton = document.getElementById('showStoryButton');
    var storybox1 = document.getElementById('storybox1');
    var storybox2 = document.getElementById('storybox2');
    var userInputDiv = document.getElementById('user-input');
    var mediumUserInputDiv = document.getElementById('mediumUserInput');
    var hardUserInputDiv = document.getElementById('hardUserInput');

    document.getElementById("victim").value = '';
    document.getElementById("hiddenItem").value = '';
    document.getElementById("victimPossession").value = '';
    document.getElementById("suspect").value = '';

    if (currentDifficulty.toLowerCase() === 'medium') {
        mediumUserInputDiv.style.display = 'block';
    } else if (currentDifficulty.toLowerCase() === 'hard') {
        hardUserInputDiv.style.display = 'block';
    } else {
        mediumUserInputDiv.style.display = 'none';
        hardUserInputDiv.style.display = 'none';
    }

    fetch('/mystery/GenreM/Mstory_' + currentDifficulty.toLowerCase() + '.html')
        .then(response => response.text())
        .then(data => {
            storyTextElement.innerHTML = data;
            showStoryButton.classList.add('btn-' + currentDifficulty.toLowerCase());

            storybox1.style.marginLeft = '85px';
            storybox1.style.maxWidth = '700px';

            storybox2.style.display = 'block';

            if (currentDifficulty.toLowerCase() === 'easy') {
                userInputDiv.style.display = 'block';
            } else {
                userInputDiv.style.display = 'none';
            }
        })
        .catch(error => {
            console.error('Error fetching story:', error);
            storyTextElement.innerHTML = 'Error fetching the story.';
        });
}



function changeText(difficulty) {
    var difficultyTextElement = document.getElementById('difficultyText');
    var userInputDiv = document.getElementById('user-input');
    var mediumUserInputDiv = document.getElementById('mediumUserInput');

    difficultyTextElement.textContent = 'You selected ' + difficulty + ' difficulty.';
    difficultyTextElement.classList.add('centered-text');

    userInputDiv.style.display = 'none';
    mediumUserInputDiv.style.display = 'none';
}

function generateStory(userInput) {
    const victimOccupation = document.getElementById("victim").value || '__________';
    const hiddenItem = document.getElementById("hiddenItem").value || '__________';
    const victimPossession = document.getElementById("victimPossession").value || '__________';
    const suspectOccupation = document.getElementById("suspect").value || '__________';

    const storyContainer = document.getElementById("storybox2");

    const newStory = document.createElement("div");
    newStory.classList.add("story");

    newStory.innerHTML = `
    ${currentDifficulty.toLowerCase() === 'easy' ?`
        <h2 class="Easytitle">Whispers in the Manor</h2>
        <p class="main-paragraph">Detective Emily Harper stared at the crime scene, the room shrouded in an eerie silence.</p>
        <p class="main-paragraph">The air was thick with tension, and the flickering light cast ominous shadows on the walls.</p>
        <p class="main-paragraph">The victim, a wealthy ${victimOccupation}, lay sprawled on the ornate rug,</p>
        <p class="main-paragraph">lifeless eyes staring into the abyss. Emily's keen eyes scanned the room for clues,</p>
        <p class="main-paragraph">her mind racing to unravel the mystery that hung in the air like a heavy fog.</p>

        <p class="main-paragraph">As Emily meticulously examined the crime scene, she discovered a hidden ${hiddenItem}</p>
        <p class="main-paragraph">that seemed to hold the key to the puzzle. The room's atmosphere became more ominous with each revelation,</p>
        <p class="main-paragraph">and the weight of the truth bore down on her shoulders. The victim's ${victimPossession}</p>
        <p class="main-paragraph">clutched tightly in their hand, pointing towards a possible struggle.</p>
        <p class="main-paragraph">Emily's intuition told her that the answer to the mystery lay within the shadows of the victim's ${victimPossession}.</p>

        <p class="main-paragraph">In the dimly lit room, Emily confronted the ${suspectOccupation}, with a mixture of anticipation and dread.</p>
        <p class="main-paragraph">The truth spilled out like a dark confession, and the pieces of the puzzle fell into place.</p>
        <p class="main-paragraph">The motive, the means, and the opportunity all aligned, revealing the identity of the ${suspectOccupation}.</p>
        <p class="main-paragraph">As Emily closed the case, she couldn't shake the lingering sense of unease,</p>
        <p class="main-paragraph">knowing that the shadows of the past would forever haunt the once grand estate.</p>
    ` : ''}

    ${currentDifficulty.toLowerCase() === 'medium' ?`
        <h2 class="MediumtitleM">The Artful Betrayal</h2>
        <h5>
            Detective Alex Black surveyed the dimly lit room, a chilling breeze creeping through the half-open window.
            The victim, a renowned art collector named Richard Thornton, lay lifeless on the ornate Persian rug, 
            surrounded by shattered glass from a shattered sculpture. 
            As Black examined the crime scene, he couldn't shake the feeling that something didn't add up. 
            The atmosphere was thick with tension, and the air seemed to hum with hidden secrets.
            <br>
            <br>
            With the suspect list growing, Black delved into the victim's background, uncovering a web of intrigue and jealousy within the art world. 
            Richard Thornton had been on the brink of unveiling a groundbreaking masterpiece that would shake the foundations of the industry. 
            His sudden demise cast a shadow over the upcoming art exhibition, ${userInput}
    
            <br>
            <br>
            As Black gathered the suspects for a tense confrontation, 
            the room crackled with anticipation. Accusations were flung like knives, each suspect revealing their motive and alibi.
            ${userInput}
            <br>
    
            With a triumphant smile, Black confronted the real mastermind behind the murder,
            exposing a carefully orchestrated plot that had deceived everyone.
            <br>
            <br>
            The truth, like an elusive masterpiece, had been skillfully hidden, but Black had unraveled the threads and revealed the dark masterpiece of deception. 
            ${userInput}
            <br>
            <br>
        </h5>
    ` : ''}
    `;

    storyContainer.innerHTML = '';
    storyContainer.appendChild(newStory);
    storyContainer.classList.remove("hidden");
}

function submitStory() {
    const userInput1 = document.getElementById("StoryTextarea1").value || '__________';
    const userInput2 = document.getElementById("StoryTextarea2").value || '__________';
    const userInput3 = document.getElementById("StoryTextarea3").value || '__________';

    const storyContainer = document.getElementById("storybox2");

    const newStory = document.createElement("div");
    newStory.classList.add("story");

    newStory.innerHTML = `
        <h2 class="MediumtitleM">The Artful Betrayal</h2>
        <h5>
            Detective Alex Black surveyed the dimly lit room, a chilling breeze creeping through the half-open window.
            The victim, a renowned art collector named Richard Thornton, lay lifeless on the ornate Persian rug, 
            surrounded by shattered glass from a shattered sculpture. 
            As Black examined the crime scene, he couldn't shake the feeling that something didn't add up. 
            The atmosphere was thick with tension, and the air seemed to hum with hidden secrets.
            <br>
            <br>
            With the suspect list growing, Black delved into the victim's background, uncovering a web of intrigue and jealousy within the art world. 
            Richard Thornton had been on the brink of unveiling a groundbreaking masterpiece that would shake the foundations of the industry. 
            His sudden demise cast a shadow over the upcoming art exhibition, ${userInput1}
    
            <br>
            <br>
            As Black gathered the suspects for a tense confrontation, 
            the room crackled with anticipation. Accusations were flung like knives, each suspect revealing their motive and alibi.
            ${userInput2}
            <br>
    
            With a triumphant smile, Black confronted the real mastermind behind the murder,
            exposing a carefully orchestrated plot that had deceived everyone.
            <br>
            <br>
            The truth, like an elusive masterpiece, had been skillfully hidden, but Black had unraveled the threads and revealed the dark masterpiece of deception. 
            ${userInput3}
            <br>
            <br>
        </h5>
    `;

    storyContainer.innerHTML = '';
    storyContainer.appendChild(newStory);

    storyContainer.classList.remove("hidden");
}

function submitChapters() {
    const chapter1 = document.getElementById("ChapterTextarea1").value || '__________';
    const chapter2 = document.getElementById("ChapterTextarea2").value || '__________';
    const chapter3 = document.getElementById("ChapterTextarea3").value || '__________';
    const chapter4 = document.getElementById("ChapterTextarea4").value || '__________';
    const chapter5 = document.getElementById("ChapterTextarea5").value || '__________';

    const storyContainer = document.getElementById("storybox2");

    const newStory = document.createElement("div");
    newStory.classList.add("story");

    newStory.innerHTML = `
    ${currentDifficulty.toLowerCase() === 'hard' ?`
        <h2 class="Hardtitle">Echoes from the Past</h2>
        <p class="main-paragraph">
            Detective James Reynolds arrived at the secluded mansion nestled on the outskirts of town, the moon casting an eerie glow on the imposing structure. 
            The air was thick with an unsettling stillness as he stepped through the grand entrance, guided only by the faint flicker of candlelight. 
            The wealthy recluse, Mr. Thornton, had been found dead under mysterious circumstances, and the mansion held secrets that seemed to whisper through its ancient walls
            <br>
            <br>
        </p>

        <p class="main-paragraph">
            Reynolds began his investigation by questioning the mansion's staff and residents, ${chapter1}.
            <br>
            <br>
        </p>

        <p class="main-paragraph"> 
            Haunted by the echoes of the past, Reynolds uncovered a forgotten chapter in the mansion's history: 
            a tale of betrayal, a missing heir, and a tragedy that still reverberated through the hallowed halls. 
            The detective's journey led him to an abandoned wing of the mansion, where dusty archives unveiled a narrative of deceit and heartbreak. 
            In the dim light, Reynolds pieced together the puzzle, connecting the threads of the past to the present.
            <br>
            <br>
        </p>

        <p class="main-paragraph">${chapter2}
            <br>
            <br>
        </p>
            


        <p class="main-paragraph">
            Reynolds continued his meticulous search for the truth, navigating the labyrinthine history of the Thornton family. 
            Tensions ran high among the suspects, each harboring their own dark secrets. 
            The detective's persistence paid off when he stumbled upon a forgotten diary that detailed a decades-old scandal involving a forbidden love affair and a subsequent cover-up. 
            The revelations cast a shadow of suspicion on the motives of those within the mansion, adding a layer of complexity to an already intricate puzzle.
            <br>
            <br>
        </p>

        <p class="main-paragraph">${chapter3}
            <br>
            <br>
        </p>

        <p class="main-paragraph">
            In what he believed to be the closing of his investigation, Reynolds meticulously pieced together the final fragments of the puzzle, 
            bringing the enigmatic past into sharp focus. The mansion, once a silent witness to intrigue, now echoed with the footsteps of those whose secrets were about to be exposed. 
            In the dim glow of flickering candles, Reynolds gathered the remaining suspects in the ornate drawing room, the air thick with anticipation.
            <br>
            <br>
        </p>

        <p class="main-paragraph">${chapter4}
            <br>
            <br>
        </p>

        <p class="main-paragraph">
            The revelations were both damning and liberating, as the truth emerged not only as a resolution to the case but also as a cathartic release for those burdened by their own past transgressions.${chapter5}
            <br>
            <br>
        </p>

        <p class="main-paragraph">
            As Detective Reynolds finally closed the case, the truth emerged like a specter from the shadows. 
            Betrayal, greed, and a twisted web of lies painted a sinister picture of the events that unfolded within the mansion's walls. 
            The seemingly opulent facade masked a labyrinth of deception, and as Reynolds turned away from the mansion, he couldn't shake the feeling that the ghostly echoes of the past still lingered in the air, 
            haunting the corridors of the once-grand estate. The secrets of Thornton's mansion, now laid bare, left a haunting legacy, a cautionary tale for those who dared to peer into the darkness that lurked behind closed doors.
            <br>
            <br>
        </p>

    ` : ''}
    `;

    storyContainer.innerHTML = '';
    storyContainer.appendChild(newStory);
    storyContainer.classList.remove("hidden");
}


</script>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->


</body>
</html>